<html>
    <head>
        <meta charset="UTF-8" />
        <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="./src.js"></script>
        <link href="./style.css" rel="stylesheet" />
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-W0L9WTZH2P"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-W0L9WTZH2P');
        </script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1500195320794630"
    crossorigin="anonymous"></script>

    </head>

    <body>
        <div class="container">
            <!-- Main content -->        
        <div id="app">
            <table>
                <tr>
                    <td>
                        <p :style="{ fontSize: '30px', fontWeight: 'bold' }">-*! El cHoniZadOr *!*</p>
                    </td>
                </tr>

                <tr>
                    <td>
                        <p :style="{ fontSize: '20px', color: 'white', fontWeight: 'bold', textAlign: 'center' }">Traductor Castellano->Choni</p>
                    </td>
                </tr>

                <tr>
                    <td>
                        <p :style="{ fontSize: '20px', color: 'white',fontWeight: 'bold' }">Escribe algo normal en castellano, para traducirlo a idioma choni</p>
                    </td>
                </tr>

                <tr>
                    <td><textarea v-model="phrase"></textarea></td>
                </tr>

                <tr>
                    <td><p class="xonised">{{ xoni }}</p></td>
                </tr>



                <tr>
                    <td>
                        <div class="button-container">
                            <button @click="xonizeText"
                                @mousedown="isClicked = true"
                                @mouseup="isClicked = false"
                                @mouseleave="isClicked = false"
                                @touchstart="isClicked = true"
                                @touchend="isClicked = false"
                                :class="{ clicked: isClicked }">
                                <img src="./button.svg" />
                            </button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <!-- Right ad column -->
        <div class="ad-column">
            <img v-for="(image, index) in computedImageSrcs" 
                 v-bind:src="image" 
                 :key="index"
                 alt="Publicidad Vintage" 
                 class="ad-image"
                 @load="logImage" 
                 @error="logImageError" />
        </div>

        <script>
            new Vue({
                el: '.ad-column',
                data() {
                    return {
                        computedImageSrcs: [], // ‚úÖ Store multiple images
                    };
                },
                created() {
                    this.generateUniqueAds();
                },
                methods: {
                    generateUniqueAds() {
                        let usedNumbers = new Set();
                        let imageCount = 4; // Number of images needed
        
                        while (usedNumbers.size < imageCount) {
                            let randomNum = Math.floor(Math.random() * 5) + 1;
                            if (!usedNumbers.has(randomNum)) {
                                usedNumbers.add(randomNum);
                            }
                        }
        
                        this.computedImageSrcs = [...usedNumbers].map(num => `./spam/ad${num}.jpg`);
        
                        console.log("üñºÔ∏è Selected ad images:", this.computedImageSrcs);
                    },
                    logImage(event) {
                        console.log("‚úÖ Image loaded:", event.target.src);
                    },
                    logImageError(event) {
                        console.error("‚ùå Image failed to load:", event.target.src);
                    }
                }
            });
        </script>

        <script src="./app.js"></script>

    <footer>
        <p style="font-family: 'Comic Sans MS', cursive, sans-serif; font-size: 8px; color: white; text-align: center;">
        &copy; 2025 El cHoniZadOr by <a href="https://github.com/olayasturias" style="color: #1019e5ff;">Olaya √Ålvarez Tu√±√≥n</a>. Original idea by chevismo.com and adapted from <a href="https://dalailomo.github.io/xonizer/" style="color: #1019e5ff;">dalailomo</a>.
        </p>
    </footer>
    </body>
</html>
